<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>AI Chat Gratis</title>

<style>
body{
  margin:0;
  font-family:Arial;
  background:#1f1f1f;
  color:white;
  display:flex;
  flex-direction:column;
  height:100vh;
}
header{
  padding:15px;
  background:#2a2a2a;
  text-align:center;
}
.chat{
  flex:1;
  overflow-y:auto;
  padding:20px;
  display:flex;
  flex-direction:column;
  gap:10px;
}
.bubble{
  max-width:75%;
  padding:12px;
  border-radius:15px;
}
.user{
  background:#4f46e5;
  align-self:flex-end;
}
.bot{
  background:#333;
  align-self:flex-start;
}
footer{
  display:flex;
  padding:15px;
  background:#2a2a2a;
  gap:10px;
}
input{
  flex:1;
  padding:10px;
  border:none;
  border-radius:8px;
  background:#333;
  color:white;
}
button{
  padding:10px;
  border:none;
  border-radius:8px;
  background:#4f46e5;
  color:white;
}
</style>
</head>

<body>

<header>AI Gratis Tanpa Backend</header>

<div class="chat" id="chat"></div>

<footer>
<input type="text" id="input"
placeholder="Tulis pesan..."
onkeydown="if(event.key==='Enter'){send()}">
<button onclick="send()">Kirim</button>
</footer>

<script>
const chat = document.getElementById("chat");
const input = document.getElementById("input");

function bubble(text,type){
  const div=document.createElement("div");
  div.className="bubble "+type;
  div.innerText=text;
  chat.appendChild(div);
  chat.scrollTop=chat.scrollHeight;
}

async function send(){
  const text=input.value.trim();
  if(!text) return;

  bubble(text,"user");
  input.value="";
  bubble("Mengetik...","bot");

  try{
    const res=await fetch(
      "https://api-inference.huggingface.co/models/microsoft/DialoGPT-medium",
      {
        method:"POST",
        headers:{
          "Content-Type":"application/json"
        },
        body:JSON.stringify({inputs:text})
      }
    );

    const data=await res.json();
    document.querySelector(".bot:last-child").remove();

    if(Array.isArray(data)){
      bubble(data[0].generated_text,"bot");
    }else{
      bubble("AI sedang sibuk, coba lagi.","bot");
    }

  }catch(err){
    document.querySelector(".bot:last-child").remove();
    bubble("Server error.","bot");
  }
}
</script>

</body>
</html>
